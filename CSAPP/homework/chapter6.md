- 6.1

|4|4|2|2|2|
|---|---|---|---|---|
|4|4|2|2|2|
|16|8|4|3|4|
|32|16|5|4|5|
|32|32|5|5|5|

- 6.2
```
512 * 400 * 10000 * 2 * 2
= 8192000000B
= 8.192GB
```

- 6.3
```
Ts = 8 ms
Tr = 1000 * 60 / 15000 / 2 = 2ms
Tt = 1000 * 60 / 15000 / 500 = 0. 008ms

Ta = 8 + 2 + 0.008 = 10.008ms
```

- 6.4
```
Ts = 5ms
Tr = 1000 * 60 / 10000 / 2 = 3ms
Tt = 1000 * 60 / 10000 / 1000 = 0.006ms

Tba = Ts + Tr + Tt * 2^20 / 2^9 = 5 + 3 + 0.006 * 2^11 = 20.288ms
Twa = (Ts + Tr + Tt) * 2^20 / 2^9 = (5 + 3 + 0.006) * 2^11 = 16396.288ms
```

- 6.5
```
A: 128 * 10^15 / (470 * 10^6) / 31536000 = 8.64年
B: 128 * 10^15 / (303 * 10^6) / 31536000 = 13.4年
C: 128 * 10^15 / (20 * 10^9) / 365 = 17534.25年
```

- 6.6
```
500 / 10^6 = 0.0005
2015 + 0.03 / 0.0005 / ((5 / 0.03) / (2015 - 2005)) = 2019 ?
```

- 6.7
```cpp
int sumarray3d(int a[N][N][N])
{
    int i, j, k, sum = 0;

    for (int k = 0; k < N; k++)
        for (i = 0; i < N; i++)
            for (int j = 0; j < N; j++)
                sum += a[k][i][j];

    return sum;
}
```

- 6.8
```
局部性程度从高到低排：1, 2, 3
因为结构体中的两个数组是按顺序排列，所以步长分别为 1, 3, 6
```

- 6.9
  
|256|22|8|2|
|---|---|---|---|
|32|24|5|3|
|1|27|0|5|

- 6.10

|元素|组索引|
|---|---|
|x[0 - 3]|0|
|x[4 - 7]|1|
|x[8 - 11]|0|
|y[0 - 3]|1|
|y[4 - 7]|0|

所以会在`x[0], y[0], x[4], y[4]`产生不命中

命中率 = (16 - 4) / 16 = 75%

- 6.11
```
t 个块
1 个块
```

- 6.12

|12|11|10|9|8|7|6|5|4|3|2|1|0|
|---|---|---|---|---|---|---|---|---|---|---|---|---|
|CT|CT|CT|CT|CT|CT|CT|CT|CI|CI|CI|CO|CO|


- 6.13

A:
|12|11|10|9|8|7|6|5|4|3|2|1|0|
|---|---|---|---|---|---|---|---|---|---|---|---|---|
|0|1|1|1|0|0|0|1|1|0|1|0|0|

B:
|参数|值|
|---|---|
|CO|0x0|
|CI|0x5|
|CT|0x71|
|命中|是|
|缓存字节|0xB|

- 6.14

A: 0110111010101
|12|11|10|9|8|7|6|5|4|3|2|1|0|
|---|---|---|---|---|---|---|---|---|---|---|---|---|
|0|1|1|0|1|1|1|0|1|0|1|0|1|

B:
|参数|值|
|---|---|
|CO|0x1|
|CI|0x5|
|CT|0x6E|
|命中|否|
|缓存字节|-|

- 6.15

A:
|12|11|10|9|8|7|6|5|4|3|2|1|0|
|---|---|---|---|---|---|---|---|---|---|---|---|---|
|1|1|1|1|1|1|1|1|0|0|1|0|0|

B:
B:
|参数|值|
|---|---|
|CO|0x0|
|CI|0x1|
|CT|0xFF|
|命中|否|
|缓存字节|-|

- 6.16
```
0x64C - 0x64F
```

- 6.17

A:

|dst||
|---|---|
|m|m|
|m|m|

|src||
|---|---|
|m|m|
|m|h|

B:

|dst||
|---|---|
|m|h|
|m|h|

|src||
|---|---|
|m|h|
|m|h|

- 6.18
```
A: 16 * 16 * 2 = 512
B:
块大小能存 4 个 int
相当于结构体数组中每两个元素为一块
不命中数 256
C: 不命中率为 50%
```

- 6.19
```
A: 512
B: 256
C: 50%
D: 25%
```

- 6.20
```
A: 512
B: 128
C: 25%
D: 25%
```